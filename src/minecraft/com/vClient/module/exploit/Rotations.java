package com.vClient.module.exploit;

import com.vClient.event.EventTarget;
import com.vClient.event.events.Event3D;
import com.vClient.module.Category;
import com.vClient.module.Module;
import com.vClient.module.combat.KillAura;
import com.vClient.vClient;
import de.Hero.settings.Setting;
import org.lwjgl.input.Keyboard;

public class Rotations extends Module {
    private float[] rotations;

    public Rotations() {
        super("Rotations", Keyboard.CHAR_NONE, Category.EXPLOIT, "Display server-sided head rotations.");
    }

    @Override
    public void setup() {
        vClient.instance.settingsManager.rSetting(new Setting("Body", this, true));
    }

    @EventTarget
    public void on3D(Event3D event) {
        rotations = ((KillAura) vClient.instance.moduleManager.getModulebyName("KillAura")).targetRotations;
        if (rotations != null) {
            if (vClient.instance.settingsManager.getSettingByName("Body").getValBoolean())
                mc.thePlayer.renderYawOffset = rotations[0];
            mc.thePlayer.rotationYawHead = rotations[0];
            mc.thePlayer.rotationPitchHead = rotations[1];
        }
    }
}
